using Filuet.Infrastructure.Abstractions.Business.Models;
using Filuet.Infrastructure.Abstractions.Converters;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Text.Json;
using System.Threading.Tasks;
using Xunit;

namespace Test
{
    public class CatalogTest
    {
        [Theory]
        [InlineData("{\"categories\":[{\"loc\":[{\"lang\":\"lv\",\"name\":\"foo\"}],\"products\":[{\"sku\":\"0105\",\"weight\":84,\"loc\":[{\"lang\":\"lv\",\"name\":\"bar\",\"desc\":\"baz\"}],\"price\":{\"value\":18.65,\"curr\":\"EUR\"},\"additionalParams\":{\"rewardPoints\":\"19.95\",\"maxQty\":\"0\"}}]}]}")]
        public void Test_Deserialize(string catalog) {
            // Prepare

            // Pre-validate
            Assert.NotNull(catalog);

            JsonSerializerOptions options = new JsonSerializerOptions();
            options.Converters.Add(new LanguageJsonConverter());

            // Perform
            Catalog result = JsonSerializer.Deserialize<Catalog>(catalog, options);

            // Post-validate

        }

        [Fact]
        public void Test_AI_catalog() {
            string aiCatalogText = "[{\"sku\":\"0006\",\"names\":[\"aloe concentrate - original flavor\",\"концентрат aloe - оригинальный вкус\",\"alvejas zāļu dzēriena koncentrāts - oriģinālais\"]},{\"sku\":\"0020\",\"names\":[\"xtra-cal\",\"экстра-каль\"]},{\"sku\":\"0043\",\"names\":[\"herbalifeline max\",\"гербалайфлайн макс\"]},{\"sku\":\"004A\",\"names\":[\"herbalife skin mirror\",\"зеркало herbalife skin\",\"herbalife skin spogulis\"]},{\"sku\":\"0050\",\"names\":[\"thermo complete\",\"термо комплит\"]},{\"sku\":\"0155\",\"names\":[\"gourmet tomato soup\",\"томатный суп с базиликом\",\"gourmet tomātu zupa\"]},{\"sku\":\"020N\",\"names\":[\"small paper bags\",\"маленький бумажный пакет\",\"mazais papīra maisiņš\"]},{\"sku\":\"021N\",\"names\":[\"medium paper bags\",\"средний бумажный пакет\",\"vidējais papīra maisiņš\"]},{\"sku\":\"0242\",\"names\":[\"formula 3 - ppp\",\"формула 3 протеиновая смесь\",\"f3 - olbaltumvielu pulveris\"]},{\"sku\":\"0260\",\"names\":[\"protein bar - lemon\",\"протеиновые батончики лимон\",\"proteīna batoniņš - ar citronu garšu\"]},{\"sku\":\"0765\",\"names\":[\"soothing aloe cleanser\",\"очищающий гель на основе алоэ\",\"nomierinošs tīrītājs ar alveju\"]},{\"sku\":\"0767\",\"names\":[\"energizing herbal toner\",\"тонизирующий лосьон на основе трав\",\"uzmundrinošs tonizētājs\"]},{\"sku\":\"076K\",\"names\":[\"collagen skin booster\",\"коллаген бьюти комплекс\"]},{\"sku\":\"0770\",\"names\":[\"firming eye gel\",\"гель для кожи вокруг глаз с эффектом лифтинга\",\"nostiprinošs acu gēls\"]},{\"sku\":\"0771\",\"names\":[\"hydrating eye cream\",\"увлажняющий крем для кожи вокруг глаз\",\"mitrinošs acu krēms\"]},{\"sku\":\"0773\",\"names\":[\"purifying mint clay mask\",\"очищающая маска на основе глины и мяты\",\"attīroša sejas maska\"]},{\"sku\":\"0827\",\"names\":[\"replenishing night cream\",\"ночной обновляющий крем\",\"atjaunojošs nakts krēms\"]},{\"sku\":\"0828\",\"names\":[\"protective moisturizer spf30\",\"защищающий крем spf30\",\"aizsargājošs krēms spf30\"]},{\"sku\":\"0829\",\"names\":[\"line minimizing serum\",\"антивозрастная сыворотка\",\"krunciņu samazinošs serums\"]},{\"sku\":\"0830\",\"names\":[\"daily glow moisturizer\",\"ежедневный увлажняющий крем для естественного сияния кожи\",\"ikdienas mitrinātājs ādas mirdzumam\"]},{\"sku\":\"0N56\",\"names\":[\"invitation to wellness test (russian)\",\"приглашение на wellness тест (на русском)\",\"ielūgums uz wellness testu (krievu valodā)\"]},{\"sku\":\"100M\",\"names\":[\"herbalife nutrition shaker (single)\",\"шейкер для коктейля (1 шт.)\",\"trauks kokteiļu maisīšanai (šeikeris)\"]},{\"sku\":\"101M\",\"names\":[\"herbalife shaker  - 5 ea.\",\"шейкер herbalife - 5 шт.\",\"trauks kokteiļu maisīšanai (šeikeris) - 5 gb.\"]},{\"sku\":\"1065\",\"names\":[\"aloe concentrate - mango flavor\",\"концентрат aloe - манго вкус\",\"alveja, koncentrāts-mango\"]},{\"sku\":\"113M\",\"names\":[\"tape measure metric\",\"лента измерительная\",\"mērlente\"]},{\"sku\":\"141K\",\"names\":[\"protein chips - barbecue flavour\",\"протеиновые чипсы со вкусом барбекю\",\"proteīna čipsi ar barbekjū garšu\"]},{\"sku\":\"142K\",\"names\":[\"protein snack-baked sour cream and onion flavored snack (10 packets)\",\"протеиновые чипсы со вкусом сметаны и лука\",\"proteīna čipsi ar skābā krējuma un sīpolu garšu - 10 gab. 1 kārbā\"]},{\"sku\":\"172K\",\"names\":[\"protein drink mix-vegan (pdm)\"]},{\"sku\":\"173K\",\"names\":[\"microbiotic max\",\"микробиотик макс\"]},{\"sku\":\"178K\",\"names\":[\"herbal tea concentrate original (51g)\",\"травяной напиток - оригинал (51г)\",\"šķīst.zāļu dzēriens-oriģ. (51g)\"]},{\"sku\":\"179K\",\"names\":[\"instant herbal beverage with tea extracts - original flavor (102g)\",\"концентрат травяного напитка (102г)\",\"šķīst.zāļu dzēriens-oriģ. (102g)\"]},{\"sku\":\"1800\",\"names\":[\"f2 - for men, vitamin and mineral complex\",\"ф2 - для мужчин, кoмплекс витаминов и минералов\",\"f2 - vīriešiem, vitamīnu un minerālvielu komplekss\"]},{\"sku\":\"180A\",\"names\":[\"water bottle hrbl nut 900ml - 1 ea\",\"бутылка для воды hlf, 900мл\",\"pudele ūdenim herbalife, 900ml\"]},{\"sku\":\"1819\",\"names\":[\"f2 - for women, vitamin and mineral complex\",\"ф2 - для женщин, комплекс витаминов и минералов\",\"f2 - sievietēm, vitamīnu un minerālvielu komplekss\"]},{\"sku\":\"181K\",\"names\":[\"herbal tea concentrate  peach (51g)\",\"растворимый травяной напиток  – персик (51г)\",\"šķīstošais zāļu dzēriens ar tēju ekstraktiem - persiku garša (51g)\"]},{\"sku\":\"197K\",\"names\":[\"formula 1 cream-soup mushroom flavour\",\"коктейль формула 1 - грибной суп\",\"f1 sēņu zupa\"]},{\"sku\":\"1B42\",\"names\":[\"21cc sustainable scoop\",\"экологичная мерная ложка для н24\"]},{\"sku\":\"233K\",\"names\":[\"immune booster - berry flavour\",\"immune booster - вкус ягод\",\"immune booster - ogu garša\"]},{\"sku\":\"236K\",\"names\":[\"phyto complete\"]},{\"sku\":\"2561\",\"names\":[\"hand and body wash\",\"гель для душа herbal aloe\",\"roku un ķermeņa šķidrās ziepes\"]},{\"sku\":\"2562\",\"names\":[\"soothing gel\",\"смягчающий гель для тела herbal aloe\",\"nomierinoša želeja\"]},{\"sku\":\"2564\",\"names\":[\"strengthening shampoo\",\"укрепляющий шампунь herbal aloe\",\"stiprinošs šampūns\"]},{\"sku\":\"2565\",\"names\":[\"strengthening conditioner\",\"укрепляющий кондиционер herbal aloe\",\"stiprinošs kondicionieris\"]},{\"sku\":\"2864\",\"names\":[\"oat apple fibre drink\",\"овсяно-яблочный напиток\",\"auzu-ābolu šķiedrvielu dzēriens\"]},{\"sku\":\"297A\",\"names\":[\"measuring spoon - 10 ea.\",\"мерная ложка - 10 шт.\",\"mērkarote - 10 gb.\"]},{\"sku\":\"2B08\",\"names\":[\"eco-friendly measuring spoon for collagen skin booster\",\"экологичная мерная ложка для collagen skin booster\",\"ekoloģiskā mērkarote collagen skin booster\"]},{\"sku\":\"2B09\",\"names\":[\"sustainable scoop formula 1 / pdm\",\"экологичная мерная ложка для formula 1 & pdm\",\"ekoloģiskā mērkarote formula 1 & pdm\"]},{\"sku\":\"2B10\",\"names\":[\"eco-friendly measuring spoon for oaf & ppp\",\"экологичная мерная ложка для oaf & ppp\",\"ekoloģiskā mērkarote oaf & ppp\"]},{\"sku\":\"2B12\",\"names\":[\"sustainable scoop nightworks\",\"экологичная мерная ложка для niteworks\",\"ekoloģiskā mērkarote niteworks\"]},{\"sku\":\"302A\",\"names\":[\"small 2oz container - 10 ea.\",\"контейнер для порошка «формула 1» - 10 шт.\",\"pulvera trauks - 10 gb.\"]},{\"sku\":\"305A\",\"names\":[\"tablet box - medium - 5 ea.\",\"контейнер для таблеток среднего размера - 5 шт.\",\"vidējā tablešu kastīte - 5 gb.\"]},{\"sku\":\"306A\",\"names\":[\"pen comfy grip - 10 ea.\",\"ручка comfy grip - 10 шт.\",\"pildspalva comfy grip - 10 gb.\"]},{\"sku\":\"314A\",\"names\":[\"tablet crusher\",\"измельчитель таблеток\",\"tablešu smalcinātājs\"]},{\"sku\":\"3150\",\"names\":[\"niteworks\",\"найтворкс\"]},{\"sku\":\"3152\",\"names\":[\"liftoff - lemon-lime\",\"лифтофф лимон\",\"liftoff - ar citrona garšu\"]},{\"sku\":\"371A\",\"names\":[\"herbalife 2l bottle\",\"бутылка herbalife, 2л\",\"pudele herbalife, 2l\"]},{\"sku\":\"3N71\",\"names\":[\"herbalife black silicone wristband\",\"черный силиконовый браслет herbalife\",\"melna silikona rokassprādze herbalife\"]},{\"sku\":\"3N72\",\"names\":[\"herbalife thermal mug, 510ml\",\"термокружка herbalife, 510мл\",\"termokrūze herbalife, 510ml\"]},{\"sku\":\"402K\",\"names\":[\"h24 prolong energy gel — strawberry flavour\",\"h24 prolong energy gel — клубничный вкус\",\"h24 prolong enerģijas želeja — zemeņu garša\"]},{\"sku\":\"403K\",\"names\":[\"herbalife24 rebuild strength pouch — chocolate flavour\",\"herbalife24 rebuild strength pouch — шоколадный вкус\",\"herbalife24 rebuild strength pouch — šokolādes garša\"]},{\"sku\":\"4462\",\"names\":[\"formula 1 banana cream\",\"формула 1 банановый мусс\",\"f1 - banānu krēms\"]},{\"sku\":\"4463\",\"names\":[\"formula 1 - strawberry delight\",\"формула 1 - клубничное наслаждение\",\"f1 - zemeņu baudījums\"]},{\"sku\":\"4466\",\"names\":[\"formula 1 - vanilla creme\",\"формула 1 - ванильный крем\",\"f1 - vaniļas krēms\"]},{\"sku\":\"4467\",\"names\":[\"formula 1 - cookie crunch\",\"формула 1 - хрустящее печенье\",\"f1 - kraukšķīgo cepumu garša\"]},{\"sku\":\"4468\",\"names\":[\"formula 1 – smooth chocolate\",\"формула 1 – нежный шоколад\",\"f1 – maigā šokolāde\"]},{\"sku\":\"4472\",\"names\":[\"formula 1 express bar - dark chocolate\",\"formula 1 express со вкусом темного шоколада\",\"formula 1 express veselīgas maltītes batoniņi ar tumšās šokolādes garšu\"]},{\"sku\":\"4473\",\"names\":[\"formula 1 express bar - cranberry and white chocolate\",\"батончик формула 1 экспресс со вкусом клюквы и белого шоколада\",\"formula 1 express veselīgas maltītes batoniņš ar dzērveņu un baltās šokolādes garšu\"]},{\"sku\":\"459N\",\"names\":[\"sports book with taste about sport (russian)\",\"книга о спорте со вкусом (на русском)\",\"sporta grāmata par sportu ar garšu (krievu valodā)\"]},{\"sku\":\"5001\",\"names\":[\"retail order form (latvian) - 10 ea.\",\"бланк розничного заказа (на латышском) - 10 шт.\",\"mazumtirdzniecības pasūtījuma veidlapa (latviešu valodā) - 10 gb.\"]},{\"sku\":\"5411\",\"names\":[\"nutrition club tickets (latvian/russian) - 50 ea.\",\"абонемент на посещение кзож (на латышском/русском) - 50 шт.\",\"veselīga dzīvesveida kluba apmeklējuma abonements (latviešu/krievu valodā) - 50 gb.\"]},{\"sku\":\"5438\",\"names\":[\"wlc handouts (latvian)\",\"пособие участника группы поддержки (на латышском)\",\"atbalsta grupas palīglīdzeklis (latviešu valodā)\"]},{\"sku\":\"5443\",\"names\":[\"wlc handouts (russian)\",\"пособие участника группы поддержки (на русском)\",\"atbalsta grupas palīglīdzeklis (krievu valodā)\"]},{\"sku\":\"5652\",\"names\":[\"journal for nc (latvian/russian)\",\"журнал учета посещений (на лaтышском/русском)\",\"apmeklējumu uzskaites grāmata (latviešu/krievu valodā)\"]},{\"sku\":\"5817\",\"names\":[\"invitation to wellness test (latvian) — 50 ea.\",\"приглашение на wellness тест (на латышском) — 50 шт.\",\"ielūgums uz wellness testu (latviešu valodā) — 50 gb.\"]},{\"sku\":\"5952\",\"names\":[\"invitation to club (latvian)\",\"приглашение в клуб (на латышском)\",\"ielūgums uz klubu (latviešu valodā)\"]},{\"sku\":\"6240\",\"names\":[\"product catalogue (latvian) - 10 ea.\",\"каталог продукции (на латышсом) - 10 шт.\",\"produktu katalogs (latviešu valodā) - 10 gb.\"]},{\"sku\":\"6241\",\"names\":[\"product brochure (russian) — 10 ea.\",\"каталог продукции (на русском) — 10 шт.\",\"produktu katalogs (krievu valodā) — 10 gb.\"]},{\"sku\":\"6473\",\"names\":[\"healthy breakfast brochure (latvian) — 10 ea.\",\"брошюра здоровый завтрак (на латышском) — 10 шт.\",\"veselīgas brokastis (latviešu valodā) — 10 gb.\"]},{\"sku\":\"670N\",\"names\":[\"product brochure (latvian) — 1 ea.\",\"каталог продукции (на латышском)\",\"produktu katalogs (latviešu valodā)\"]},{\"sku\":\"6999\",\"names\":[\"healthy breakfast brochure (russian) — 10 ea.\",\"брошюра здоровый завтрак (на русском) — 10 шт.\",\"veselīgas brokastis (krievu valodā) — 10 gb.\"]},{\"sku\":\"719A\",\"names\":[\"measuring spoon\",\"мерная ложка\",\"mērkarote\"]},{\"sku\":\"749N\",\"names\":[\"product catalogue (russian)\",\"каталог продукции (на русском)\",\"produktu katalogs (krievu valodā)\"]},{\"sku\":\"791M\",\"names\":[\"herbalife starter kit\",\"стартовый набор herbalife\",\"herbalife starta komplekts\"]},{\"sku\":\"8098\",\"names\":[\"senior consultant button\",\"значок старшего консультанта\",\"vecākā konsultanta nozīmīte\"]},{\"sku\":\"8669\",\"names\":[\"gift certificate to wellness test (latvian)\",\"подарочный сертификат на wellness тест (на латышском)\",\"dāvanu sertifikāts wellness testam (latviešu valodā)\"]},{\"sku\":\"8697\",\"names\":[\"smart shaker\",\"супер шейкер\",\"smart šeikeris\"]},{\"sku\":\"8705\",\"names\":[\"24h smart shaker\",\"24h супер шейкер\",\"24h smart šeikeris\"]},{\"sku\":\"8710\",\"names\":[\"24h water bottle, 750ml\",\"24h бутылка для воды, 750мл\",\"24h ūdens pudele, 750ml\"]},{\"sku\":\"8711\",\"names\":[\"herbalife sports bottle, 500ml\",\"бутылка для воды herbalife, 500мл\",\"sporta pudele, 500ml\"]},{\"sku\":\"986N\",\"names\":[\"sports book with taste about sport (latvian)\",\"спортивная книга о спорте со вкусом (на латышском)\",\"sporta grāmata par sportu ar garšu (latviešu valodā)\"]},{\"sku\":\"9984\",\"names\":[\"wellness test (latvian) — 50 ea.\",\"wellness тест (на латышском) — 50 шт.\",\"wellness tests (latviešu valodā) — 50 gb.\"]},{\"sku\":\"9985\",\"names\":[\"wellness test (russian) — 50 ea.\",\"wellness тест (на русском) — 50 шт.\",\"wellness tests (krievu valodā) — 50 gb.\"]},{\"sku\":\"9986\",\"names\":[\"gift certificate to wellness test (russian)\",\"подарочный сертификат на wellness тест (на русском)\",\"dāvanu sertifikāts wellness testam (krievu valodā)\"]},{\"sku\":\"9B48\",\"names\":[\"multi scoop\",\"мерная ложка универсальная\",\"universāla mērkarote\"]},{\"sku\":\"9N58\",\"names\":[\"herbalife ecocup, 350ml\"]},{\"sku\":\"A727\",\"names\":[\"small tablet box\",\"таблетница малая\",\"maza tablešu kaste (caurspīdīga)\"]},{\"sku\":\"H394\",\"names\":[\"herbalife member pack (hmp)\",\"набор независимого партнера (hmp)\",\"herbalife neatkarīgā partnera komplekts (hmp)\"]},{\"sku\":\"N133\",\"names\":[\"skin brochure (latvian) — 5 ea.\",\"брошюра herbalife skin (на латышском) — 5 шт.\",\"brošūra herbalife skin (latviešu valodā) — 5 gb.\"]},{\"sku\":\"N135\",\"names\":[\"skin brochure (russian) — 5 ea.\",\"брошюра herbalife skin (на русском) — 5 шт.\",\"brošūra herbalife skin (krievu valodā) — 5 gb.\"]},{\"sku\":\"N337\",\"names\":[\"test drive invitation (latvian/russian) — 50 ea.\",\"приглашение на 3-дневную тестовую программу (на латышском/русском) — 50 шт.\",\"uzaicinājums uz 3-dienu testa programmu (latviešu/krievu valodā) — 50 gb.\"]},{\"sku\":\"N338\",\"names\":[\"customer journal (latvian) — 20 ea.\",\"журналы обслуживания клиентов (на латышском) — 20 шт.\",\"klientu apkalpošanas žurnāli (latviešu valodā) — 20 gb.\"]},{\"sku\":\"N339\",\"names\":[\"customer journal (russian) — 20 ea.\",\"журналы обслуживания клиентов (на русском) — 20 шт.\",\"klientu apkalpošanas žurnāli (krievu valodā) — 20 gb.\"]},{\"sku\":\"N739\",\"names\":[\"nutrition club vouchers (latvian)\",\"ваучеры для клуба зож (на латвийском)\",\"herbalife nutrition kluba kuponi (latviešu valodā)\"]}]";
            IEnumerable<ProductSkuNames> aiCatalog = JsonSerializer.Deserialize<IEnumerable<ProductSkuNames>>(aiCatalogText);
        }
    }
}
